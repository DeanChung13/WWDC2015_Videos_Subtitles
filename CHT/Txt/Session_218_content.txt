歡迎來到自動佈局迷宮 第一部分
哇 
大家早上好
早上好
我是傑森·姚
是界面設計器工程師
我和iOS鍵盤工程師卡西亞一起給大家來介紹
《歡迎來到自動佈局迷宮》
作爲開發人員大家都想設計出
令用戶驚喜的漂亮且出彩的app
佈局出色會讓你的app棋高一着
用戶也會對你大加讚賞
需要面對所有不同的設備
配置以及多任務處理
和本地化 要面面俱到確有難度
幸好 有個工具可以幫忙Auto Layout
Auto Layout從本質而言就是將大量的數據
加以約束將其轉化爲等式
運用線性代數構成一系列框架
可以實現所規定的佈局
現在有了Auto Layout你會發現它的強大
和靈活功能 不過貌似有時也會有些神祕
所以纔會安排今天的講座 發現並
揭開瞭解Auto Layout的神祕面紗所在
我們會介紹若干訣竅和技巧 
通過學習 幫助大家節約開發時間
讓大家不至於沮喪
現在就開始
如果不瞭解Auto Layout無論你是新人還是老手
都有必要參加本次講座
如果需要溫故知新可以看看WWDC 
以往的講座
我們來看概要部分
講座分兩部分
上午的半天講座現在就開始
下午的部分是在同一地點 晚些時候開始
我們現在開始瞭解第一個謎題
第一謎題可維護佈局
現在 如果你在用Auto Layout
那麼很快就會發現需要涉及到約束內容
設想在兩個視圖之間建立關係
可以在一邊加標籤在另一邊加包裹
確定間距是多少在父視圖中
具體在什麼位置
並沿着基線做出美觀的安排
現在無論規格變動的是運行時間或是
設計時間Auto Layout都可以實現
設想一個更爲複雜的例子
這裏是App Store
還有GarageBand 顯示爲app
其中有若干控件
上端有標籤和一些按鈕
一側還有圖標 中間是段控件
在底部是幾個預覽圖像
可以使用Auto Layout把內容鋪開
適應不同的大小
約束大致是這個樣子
現在來看可維護部分
假設你不是創建佈局的
開發人員
可是老闆過來說
我要一個新的控件就在基礎內容下邊
在星級評分上面
那該怎麼動手開始呢？
你可能要查看這一區域的
控件看看約束規則
試着插入自己的按鈕 打亂佈局
再重新組合希望沒有問題
正如大家所想還有更爲
可維護的方法就是Stack View
這是iOS 9的新增功能比以前Mac上還要好用
Stack View能讓你線性安排視圖
Stack View在兩個平臺上有校驗位
是在Auto Layout上方搭建
可以管理子視圖的約束
當加入用戶約束時你就不用再管理
就可運行順暢
可以有水平或垂直定位或是座標軸
以及其他自定義屬性
比如對齊等等
這裏有全部的水平堆棧視圖
這裏是上端中心 底部
和基線對齊的示例
還有其他的對齊功能
以及矢量堆棧視圖
這裏是填充示例 左對齊 居中和右對齊
現在 需要注意一個屬性
相當酷就是分佈屬性
這也是NSStackView和iOS 9的
新功能
這可以實現沿着座標軸分佈
還可以完成相當複雜的行爲
不需要理會任何約束規則
這裏是填充示例
這樣我們來填充堆棧視圖
等量填充 按比例填充
根據子視圖內容大小以及等距
還有其他分佈選項
可以搭建 謝謝 
可以從堆棧視圖來搭建 我給大家
Interface Builder內部的演示
好
要裝載Xcode 
加上視圖控制器設置場景
我只需從Object Library
和Media Library
拖拽一系列整包控件和圖像
大家可以看到這些都是頂層標籤
按鈕和圖像
現在我們繼續把這些加入佈局
首先來選擇按鈕和標籤
大家要注意在IB畫布上的
新按鈕StackView按鈕上的Embed 
點擊它的時候就可以生成堆棧視圖
確定我的對齊安排和座標軸
現在來調整屬性
可以看到Property Inspector在這裏
還有座標軸對齊方式 分佈
間距以及部分選項
大家會注意到這裏還有個加號
可以把iOS 9的尺寸變成可類化
現在我們繼續來調整對齊安排
以前用過Auto Layout來處理約束功能的朋友
會注意到我們現在只需
把它從右對齊改爲左對齊
不需要碰任何約束
我們繼續 將整包的其他視圖在這裏做堆棧
我會繼續點擊我的評級
堆棧是水平方向創建水平堆棧視圖
那我繼續把這個拖拽到
第一個堆棧視圖
現在來選擇圖標和頭部
點擊Stack View按鈕最後
前三個控件和我的佈局就基本搞定
我們來繼續調整部分屬性
選中上層堆棧視圖
我來繼續先調整對齊方式
不是居中 而是填充那就真是
在整個堆棧視圖填充
我還要做延伸那麼這就
有點間距有點太大
比如說是20點也許是25
然後在標籤和按鈕的堆棧視圖
加點間距我來繼續
點擊改變間距
我們再加上大約5點
我想在圖標和頭部之間增加間距
我可以繼續
選擇使用文檔大綱的堆棧視圖
或者可以按下鍵盤的Control-Shift
點擊圖標用鼠標點擊
所有視圖
我們點擊離我最近的堆棧視圖
水平方向的 再調高25點
我們繼續 運行一下
大家看 這就是我的佈局但我們還沒有把它
放在父視圖裏我們會在這裏
運用約束
我來繼續將堆棧視圖
放在上端用左對齊
大家要注意IB畫布上的
另一個按鈕可以打開Pin菜單
以及彈出窗口
以便加入左對齊上端約束
點擊Add按鈕時
就會加入約束
現在 我們還想加入底部和右對齊
但是在Interface Builder
還有另一個技巧可以使用
可以在兩個視圖中間拖拽
我準備從堆棧視圖拖拽到
父視圖並選中Trailing Space
到Container Margin
這就會添加約束
熟悉菜單的朋友可以看到
這裏有多了另外幾個功能
我們會在底部添加另外一個約束
在底部的佈局指南中添加垂直間距
現在雙擊約束
設置約束使之緊靠邊緣
現在運行一下
就可以看到和父視圖吻合
這裏有點不對勁
來看一下段控件
有點太長
是什麼情況？
實際上 如果做旋轉會有些壓扁變形
上端的堆棧視圖中是在看子視圖的方向
所有這些都有着同樣的優先級
同樣的內容吸附性優先級
以及內容壓縮阻力優先級
稍後 我們會詳細介紹這方面內容
不過現在大家需要了解要告知
Stack View哪一個會贏
我只需選擇段控件
進入大小檢測器選擇優先級部分
繼續 調整吸附性優先級
因爲我希望 段控件吸附性更大些
把250改成260
只需要比默認值調高一點即可
與之相似 我想調整壓縮阻力 不要出雜音
我來繼續提高垂直內容壓縮阻力
從750改到760
現在運行一下
看起來好多了
要記住 謝謝
謝謝
還記得最開始的問題麼？
老闆想讓我們加上新的控件
這裏就是具體做法
告訴老闆 沒問題可以搞定
然後回到桌旁打開故事板
搜索控件
本例中 我們會用按鈕...
從圖像庫裏把它拖拽出來
再找到準備放入的堆棧視圖放進去
然後去找杯咖啡
我還想指出一點Stack View處理
子視圖的Hidden效果極好
可以在程序裏設置或通過
Interface Builder設置
看似是崩潰或是取自視圖層
但它仍屬於Stack View
如果我標出Hidden 大家看一切都會因此做調整
我們覺得 大家會認爲這些是有用的內容
這是Stack View的演示
我還要說明動畫效果也非常容易
大概是這樣
使用帶有Duration塊的UIView Animate
繼續來調整 子視圖的Hidden屬性
我們會特殊處理這些
或者可以把其他可動畫的屬性加在這裏
進行調整 包括堆棧視圖
本身的屬性
例如 調整座標軸這樣是
在水平和垂直之間
你會看到有些內容非常酷
當然 在Cocoa中是這樣子的
使用NSAnimationContext
運行動畫組
大家看到了什麼？
我們先來看API
很簡單 都很熟悉非常簡單
有座標軸或者是指定方向
來描述堆棧視圖是水平還是垂直
我們看到了分佈 對齊
和間距屬性
接着就有辦法添加新的
堆棧內容
添加並安排子視圖
還可以插入並刪除
希望大家注意Arrange Subview屬性
這個屬性可以恢復屬於堆棧視圖的
所有視圖的子集
可以恢復目前堆棧的視圖
意思是說可以實現沒有被
Stack View堆棧的視圖 
例如裝飾器或疊加層並實現潔淨的視圖層次
我們覺得 大家會認爲這些是有用的內容
在這些情況下大家只需要調用AddSubview即可
在這裏我們看到什麼？
Stack View很容易設計很容易維護
相信大家會構建很多這類東西
因爲Stack View是關於佈局
因此不需要修改自己的背景
我們可以實現部分優化
因此我們有了特殊的Transform Layer類
不需要自我修改就可以讓Stack View運行更快
比正常視圖更有表現力
因此是輕量級的
我們討論過的示例是有着許多約束的
有着些許維護難度
從四個到若干堆棧視圖都有涉及這讀起來要好得多
我們覺得大家可以用堆棧視圖設計出
大部分用戶界面所以建議從Stack View開始
使用所需約束
這就是Stack View
有些情況下不只要用到Stack View
就需要...
我想邀請朋友卡西亞來聊聊
佈局引擎
大家好我是卡西亞
我在iOS KeyboardsTeam就職 我來這裏和大家
聊聊適當的處理和提供佈局引擎
它有些任性只希望是由你來完成
如果大家處理正確它就可以正確完成任務
正如大家在本週中所見
我們有新的自適配環境以及所有
不同屏幕大小的iPhone
關鍵的一點在於在所有這些環境下
對佈局屬性進行規劃
而不是花費太多時間在每個屏幕上
進行重複
大多數人 一想到約束
都是這麼認爲
你生成部分視圖用不同方式
創建部分約束相當於是把它們扔進黑洞
會出現問題
在佈局會彈出另一端
希望是你的 也可能不是
今天我真正想做的是試着解開
部分謎團
那麼每次都會碰到佈局
首先 我們來談談改變約束
我談到改變約束時主要是在談論
激活和關閉約束
以前用過Auto Layout的朋友
以及也許還記得我們起初的
對視圖增加和刪除給出的約束的概念
不要再這麼做了
激活和關閉更好些
這是二者NSLayout約束的類方法
使用激活和關閉 
有一些真正的好處
約束髮現自己的容器
這樣更有效率
你不必擁有自己佈局中的
所有視圖才能以便使用
這其實可以總結成不要再使用
添加和刪除
要用激活和關閉
考慮改變約束時還需要
注意幾個問題
第一 永遠不要關閉self.view.constraints
中的所有內容
如果有誰真這麼做了
可能會遇到一些奇怪的問題
那個數組中的並非所有的約束都屬於你
比如在視圖中用於自行設置的功能
那就會出現奇怪的問題
所以不要這麼做
一會兒就會知道答案
相反只需要對需要稍後修改的約束
進行參考無論是在約束數組
還是在單獨的約束中均是如此
這樣就按照自己想要的方式管理內容了
我們先來看改變約束
這裏是個 iPad app我在裏面做了
一組行星都按照iPad設置好了
還有iPhone模式
多任務處理應該沒有問題
只是我並沒有當真刪除任何約束
所以當我從漂亮的垂直簡約佈局回到
平常的佈局時之前所有
漂亮的曲線都會消失不見
我可能首先想做的是
進行修正 
刪除父視圖中的所有約束
當我這麼做時還需要重新
激活任何共享約束
但是如果嘗試這種方式你將看到
會出現各種令人興奮的事情
這裏又是我的正常佈局非常好
現在還是很好
嗯 不太好了
如果我返回正常佈局
我其實不希望這些行星有那麼大
這不是我的本意
怎麼才能妥當處理呢？
我準備花些時間抓取這個代碼 這樣
就不必看我把全文再打一遍了出來了
那麼在特性集合中已經改變了 只需要
查看每個環境下你需要改變的
另一組約束是否激活
我現在有兩個數組各有8個約束
以區分行星的垂直
對齊狀況
如果我查看確認是激活狀態
刪除或關閉我不再需要的內容
再激活新的部分現在看上去好多了
正常
還是正常
簡約再回到正常
這就是我實際要的結果
哦 謝謝大家
Auto Layout 很酷的一點是
你還可以將約束改變做動畫處理
這裏有個雙擊手勢可在正常和簡約佈局間
進行動畫處理如果父視圖需要的話 
只要在調用佈局時拖拽激活和關閉 
進入動畫塊即可
大家會看到 如果我雙擊就可以在這組視圖和
兩行代碼之間輕鬆移動
如果想來點花樣可以參照所有
這些單獨的約束使用關鍵幀動畫
給app中的內容加點料
這就是
適當激活和關閉約束
我們對改變約束瞭解了哪些內容？
對 第一點
不要關閉self.view.constraints
對此我們非常清楚了
參考約束將在將來
帶來影響
會讓所有內容都運行地更好
可以實現很酷的效果比如動畫
大家也可以將改變約束做動畫處理
只要拖拽入View Animation塊即可
相當非常酷
我們現在還處於設計佈局的
基礎部分我們仍然還有視圖
和約束並把他們放入佈局引擎
但是如果要爲佈局引擎提供更多信息
在所有這些自適配環境下
我們可以獲得很多更好的結果
我們已經把所有約束都安排好
現在我想講一講大小尺寸
那麼謎題三就是視圖大小
有兩種不同方法來規定視圖大小
這顯而易見
我希望視圖寬200點高300點
相反 還可以有 不同方式
生成約束以便和我們現在
所有不同的環境相匹配
我們先從其中的內部內容尺寸開始
許多視圖都有這個如標籤和圖像視圖
基本上就是具備內容後視圖
應該具備的尺寸大小
引擎看着它試圖解決這個
尺寸的佈局問題就會生成
內部尺寸約束
不過 它無法確保佈局大小 因爲自適配
這類問題所致它需要少許
伸縮視圖
用戶不希望出現這類情況
但你可能會在這裏那裏有幾個
多餘的空隙點
可以用這個來展示你的視圖
表明你不一定確定標籤
要這麼寬才行
就是和內容一樣寬
但是如果需要定義特定的視圖尺寸
那就從約束開始
這樣做非常容易
視圖應該是我的父視圖的寬度一半
這裏應該是我的父視圖的
的高度的四分之三
這個應該是和旁邊的視圖等大
但是如果絕對需要的話還可以覆蓋
內部內容尺寸
這樣做 只能是出於兩個原因
其一是你無法從約束那裏
獲得尺寸信息
其二可能是如果你在視圖中使用了自定義繪圖
但在很多情況下你還可以設置
這個視圖的約束而不必去做任何
需要覆蓋內部內容尺寸的事情
如果確實覆蓋了內部內容尺寸
你還要負責在出現滑動類改變
或文本改變的時候使之失效
這樣你需要獲得動態文本 本地化
或任何這類需要導致視圖
需要重新計算內部尺寸的內容
我們現在來看用約束設置視圖
而不使用任何特殊點的尺寸
都是在關係當中
這裏是個標準圖像視圖
我希望在這是視圖的主要部分
因此我想讓寬度等於它所在
視圖的四分之三
這意味着在它所在的每個環境
寬度都是該視圖的四分之三
先來設置
然後獲得這一比例我是從
父視圖計算再乘以1.5
來得到高度值
這樣在多任務處理時可以在所有設備
和所有模式下獲得一致的佈局
因此視圖尺寸很重要 對比例
依賴性越高 獲得優質佈局的可能性越大
這將非常便於你在所有這些
我們提供的不同屏幕上放置內容
很多人在考慮尺寸視圖時
都會考慮到一個問題就是自適應調整視圖
特別是自適應調整表視圖單元格
這些單元格從其內容中獲得高度
所以不必在表視圖中從上到下
都是一個單元格大小
可以根據其中的內容
確定不同的大小
實際上不必
自己計算每行的高度
約束可以幫助完成這些工作
所以自適應調整
需要從約束中獲得大小尺寸
這裏也不是以點來計
而是按照比例是依賴例如
內部內容尺寸這類東西幫你完成
表視圖單元格已經定義好寬度
所以只需要考慮高度
可以利用比例來完成
這裏是個表視圖單元格
標籤應該是圖像視圖的兩倍寬
中間有一點空隙
因此當我的標籤因爲文本內容多更高些時
表視圖單元格會相應增加與之適應
我們現在來看個短的演示瞭解是怎麼回事
好這裏是表視圖單元格我已經
設置了水平方向束縛
那麼如果就這樣設計和運行
結果不會完全符合我的預期
所有內容都會有些變形
預計的表視圖高度爲60
所以默認畫在這裏
我想做的是告訴表視圖單元格
如果標籤內容增加它也要隨之改變
我通過把頂錨和底錨放在一起來實現
那麼標籤就會繼續拉動表視圖
單元格的尺寸使其更高
頂邊距 底邊距到容器邊緣
來看看效果怎樣
好多了
但還是和我想要的不太一樣
因爲我們是這樣的單元格
而在圖像中切掉了
一部分 因爲標籤不夠高
爲解決這個問題我們可以利用
視圖可以延伸至內部內容尺寸以外的特性
告訴標籤它應該至少
和圖像一樣高才行
所以標籤會在周圍多一些間隙
可以允許從圖像的高度開始
再有所延伸至合適高度爲止
大家看不到額外的間距
文本位置很好都是居中
但是標籤仍在定義表視圖
單元格的高度
現在看起來好多了
我所有的單元格大小都合適
我可以看到想看的所有內容
在創建自適應調整的表視圖單元格時
需要做的就是這些
只要確認所有內容都完全定義即可
謝謝好那麼關於視圖大小
我們講了些什麼呢？
部分視圖具備內部內容尺寸
利用這個屬性來定義其他
視圖的關係
可能的話 約束應該定義大小
如果不能 則要覆蓋內部內容尺寸
但是要確保這麼做時將內部內容尺寸設爲無效
對於自適應調整視圖 需要
完全在約束中定義尺寸
在哪裏設計佈局呢？
我們有原始信息
我們會加上部分尺寸約束
從我們放在一起的視圖
得出內部內容尺寸
接下來是什麼？
怎樣幫助佈局引擎瞭解我們需要什麼？
我們要給出一些優先級
這就是謎題5
如果接觸Auto Layout已有一段時間
可能會遇到過這樣的情況
即視圖沒有按照父視圖所設置
位於相應位置
也許在每次設計和運行中都會有所不同
或是在旋轉或修改尺寸後 都會有所不同
這就是歧義
出現這種情況可能是由於兩種不同原因
一是在你需要的方向中
並沒有足夠的約束
例如 我想把Saturn放在中間的位置
就是這些虛線上但是當我運行
app時 它卻跑到左邊或右邊
這也許是說明我沒有足夠的
水平約束告知引擎該把Saturn放在哪兒
垂直方向 看似還好那不錯
還有一個因素可能導致如此是
這是等值不需要的優先級
等值所需的優先級會調用不合格的約束
如果佈局引擎不能如此解決視圖問題的話
等值不需要的優先級是指引擎
已經爲替你做了選擇
它已經盡力做出好的選擇
但是它確實不知道你想要什麼
所以需要提供更多的內容來實現目的
優先級怎麼起作用呢?
區間是從1到1000我們還有幾個常數
幫助平衡優先級
佈局優先級需要的是1000
默認高度爲750默認低點是250
在可視化格式語言中是這樣的效果
只需要在希望使用的數字前加上@符號即可
在Interface Builder中可以直接
把它固定在文本域中
如果使用顯性約束這就是屬性
你可以實際上運用這些常數
或數字或是二者組合
進行比較時優先級最高的會勝出
我們先來看看在內容優先級
上下文中的情況
但是必須注意的是
這個系統有着安排內部視圖的部分屬性
在iOS中 我們的系統佈局尺寸符合50的大小
有若干窗口優先級在500左右
490 500和510OS X會用到
如果來看NSLayoutConstraint頭部
你會看到這些數字具體是多少
如果把這些數字設置爲等值
最後會出現歧義的情況
大家可能會遇到
你想要使用比系統採用的
優先級稍高或稍低的值
內容優先級
這些就是視圖處理內容的方法
默認狀態都是設置爲Not Required
你不應該設置爲Required
內容需要能移動一點
我們有動態文本
有本地化
可能還要讓用戶可以選擇不同的圖像 像這樣
還需要具備一點自由調整的空間
不能說一直都是這樣的大小
最後都會是不合乎要求的約束
但是未經修正的相同優先級
會導致歧義 我剛說過
我們來看看使用內容吸附性
優先級的實例這是我們所擁有的
兩種內容優先級之一
這裏是文本域和按鈕
文本域都偏到了這邊
按鈕都分散開了
這是因爲它們的默認內容
吸附性優先級都是250
引擎需要做出選擇
它不清楚答案是這個還是這個
你實際上可以告訴它每次應該選擇哪個答案
而不是根據情況選擇這個或那個
如果把按鈕的內容吸附性優先級
下調到249就會得到第一個佈局
這是因爲引擎看到約束
和優先級覺得 嗯
文本視圖吸附性優先級相當重要
但是按鈕吸附性優先級沒那麼重要
我可以繼續從內容中伸出一塊
填充視圖的水平部分
同時 如果用到按鈕
並把內容吸附性優先級置於
文本域之上就會得到另一種解決方案
因爲引擎會覺得
現在我要緊密吸附按鈕文本
這就意味着我可以伸長文本域
以便解決佈局問題
在調整這類發生歧義的情況時
所需要做的就是這些
還有一類內容優先級
是壓縮阻力
這是視圖多大程度上可以阻止內容的壓扁
順便說一下 壓扁在這裏是個技術術語
需要給人留下深刻印象時可以隨便使用
圖像視圖的壓縮阻力和水平方向的
標籤默認爲750
這個優先級相當高因爲平時
你希望看到所有內容
但是如果要本地化這個app該怎麼辦？
如果有了這兩個彼此競爭的因素
而所用的語言中“紅色”這個詞
非常長 比如波蘭語
則可能會被剪裁
這就是引擎必須做出的決定之一
它可能會收縮圖形視圖或是剪裁標籤
它並不清楚你真正要做什麼
所以它自行做決定
如果希望標籤一直都能顯示全部內容
少許收縮圖像也可以
你只需要把標籤內容壓縮阻力
優先級設置的略高於
圖像視圖即可現在就可以看到整個視圖
在做本地化時需要做這些調整
以確保觀衆可以看到全部
文本內容
這些就是優先級
它們可以幫你解決不滿意度問題
這會導致你在設計和運行時 
一切都出現問題 日誌會相當難看
因此它們會很有用但是需要注意
競爭性優先級
如果存在競爭性就會出現歧義 如大家所見
當你這麼做時 結果是各屏幕和窗口間的
更多一致性
如果優先級用的很好
就可以得到正確的佈局
有時候 只需要對吸附性
或壓縮阻力稍作調整
現在 在設計佈局時我們爲約束和
內容加上了部分優先級
爲了解決這個佈局問題我們還需要什麼？
對齊安排
那麼 如果已經用過Auto Layout 那你會對
視圖對齊安排很熟悉
它們會需要某些水平對齊
這樣就會知道如何彼此關聯
還有垂直對齊 
我這裏會主要介紹對齊文本
首先 在文本視圖中我們有基線
的概念這就是在
文本底部下方的線條
文本視圖有着第一條基線
和最後一條基線的對齊安排 
第一條基線就在第一行文本下方
最後一條基線則是在最後一行文本下方
單行文本視圖這兩個值彼此相等
所以在很多情況下文本對齊效果
勝過頂部或底部並對動態文本大小
這類內容有幫助
通過它 可以更好地控制改變視圖
以及內容需要變化
例如 如果在按鈕旁有個標籤
並且是底部對齊在這種情況下
按鈕邊緣有些大
因爲是在填充一些多餘的間距
如果我加上兩行文本 按鈕就可能
變得模糊不清
我想變成居中對齊
或是變成消息那樣放在底部
靠近文本最後一行
效果則好些
如果我是依照最後基線對齊 無論
文本視圖做什麼按鈕還將與
最後的基線對齊
當然也可以根據第一條基線這麼做
如果你想要的視圖是這樣
如果視圖在不斷變化它也在和周圍的
視圖保持對齊狀態
文本對齊的另一個重要內容是左對齊和右對齊
這對所有類型視圖都很重要
但是對本地化用處相當大
如果是在用從左到右的語言
在編寫app時對佈局運用
左右約束語言本地化時
用的是從右到左這怎樣結果
就會很奇怪
效果就像是這樣
所有內容都各自到位
但是無法正常閱讀
我以前是通過圖像視圖瞭解文本
現在是從另一個方向閱讀文本
而且是在圖像視圖上面
這不是我想要的
如果你在左對齊和右對齊用的是
同樣的約束左邊是左對齊和 
右邊是右對齊那就會形成正確的佈局
切換到不同 於最初的
語言走向時所有內容的讀取
都會按照你最初設計的思路實現
因此就常用左對齊和右對齊好了
也許會有某些情況
需要你使用左和右
現在我還不知道熟悉有哪些情況
大家肯定曾遇到過這種情況
但是如果需要用左和右
小心不要和左對齊和右對齊混淆
因爲當環境發生改變
最後可能會導致令人不滿的約束
好 關於對齊問題
的最後內容是對齊矩形
對齊矩形很重要
因爲引擎就是計算這些數值
引擎會把所有約束考慮在內
計算對齊矩形在根據這些
實際安排視圖
那麼對齊矩形是什麼？
通常就是視圖的框架 但也不總是如此
它不僅是視圖周圍的框架
還包括視圖的關鍵性內容
也就是你真正需要對齊的內容
例如 我們有個複選框
如果和其他視圖一起在做居中
對齊你可能需要
根據圓心對齊而不是在
複選框中心對齊整個勾選
可能要稍稍高一些
帶有陰影的按鈕也是如此
需要去除那些多餘的點
並關注內容的主要部分
當視圖發生改變時它也不會變化
當你安排視圖時並想強調
或取消強調某些內容這不會影響
佈局的其他部分導致出現變形
如果的確需要改變
這種情況其實很少見我們可以覆蓋
可用的對齊矩形邊界間距
基本上這相當於告知引擎
不管你算出的對齊矩形是什麼
邊界間距是這樣的要用這個數值
在佈局中 這種情況非常少見
不過如果需要 可以用這個方法
爲了解引擎實際的計算結果
可以使用Xcode的Debug菜單中的視圖調試選項
將之拖入視圖
再選定ShowAlignmentRectangle即可
這會將黃色對齊矩形拖入視圖
還可以通過具體視圖的框架
對齊矩形來實現
在第二部分的 調試佈局部分
我們會談到更多詳情如果想要了解
這些都是如何工作一定要記得參加
關於對齊 我們介紹了
文本與其他內容不大相同
在準備app時 大家想要確認可以
做動態文本和本地化
Auto Layout 可以助你一臂之力
如果需要將有趣的 
具體視圖安放在具體框架中
還可以藉機覆蓋對齊矩形
邊界間距
有關佈局 我們講到哪裏了？
好現在是對齊部分如果有必要的話
我們覆蓋了兩個對齊矩形邊界間距
現在就讓引擎來完成工作
把所有內容都放在裏面
佈局引擎會進行思考
計算對齊矩形然後用來實際設計佈局
現在的佈局正如你所願
適合各種屏幕大小
相信我 這就是你想要的佈局
我們來看一下
我們總結一下今天所講的內容
堆棧視圖是設計可維護佈局的好辦法
在所有設備和尺寸均可適用
如果適當激活並關閉約束的話 
大家都可以使用可以獲得動態
有趣的佈局 而在每個屏幕上
無需太多設計工作
決定具體尺寸後 使用約束
當絕對必要時 可以覆蓋內部內容尺寸
使用優先級實現最後的小調整
最後 可以不僅僅做頂部底部和居中對齊
特別是當你看着文本 考慮進行本地化
和動態文本時更是如此
若想了解更多詳情
我們還有部分文檔資料
如果想試試動畫效果可以下載
這些行星示例代碼當然 也可以
前往論壇或者索性聯繫我們的開發顧問
下午是《Auto Layout謎題》
第二部分內容會深度介紹佈局週期的內容以及更多
關於不符合預期的佈局調試內容
我們還有其他的相關講座
祝大家過得愉快謝謝