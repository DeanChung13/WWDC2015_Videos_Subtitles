00:00:20.387 --> 00:00:23.724 
CloudKit中的新特性

00:00:30.364 --> 00:00:34.768 
下午好 歡迎參加第704環節的講座
“CloudKit中的新特性”

00:00:35.169 --> 00:00:36.170 
我叫Olivier

00:00:36.236 --> 00:00:39.139 
是iCloud客戶端團隊的技術經理

00:00:39.973 --> 00:00:44.778 
一年前我們介紹了CloudKits
它對你們開發者來說

00:00:44.845 --> 00:00:48.615 
是一種駕馭iCloud的全新架構

00:00:50.284 --> 00:00:53.987 
我們在iOS 8上構建了很多

00:00:54.054 --> 00:00:55.389 
CloudKits的新特性

00:00:55.522 --> 00:00:59.526 
最明顯是把iCloud Drive
和iCloud照片庫

00:00:59.593 --> 00:01:03.730 
全部加入了CloudKit之中而
Mail Drop HomeKit

00:01:04.096 --> 00:01:08.035 
Safari歷史同步和電話歷史同步
也都使用了CloudKit

00:01:09.770 --> 00:01:11.872 
一年之後我們看到了什麼？

00:01:13.307 --> 00:01:17.244 
我們上傳了2400多億個記錄

00:01:18.178 --> 00:01:21.748 
我們存儲了來自3億多用戶的

00:01:21.815 --> 00:01:25.152 
超過250PB的資源數據

00:01:26.787 --> 00:01:28.255 
我們真是喜不自禁

00:01:28.322 --> 00:01:31.425 
對於CloudKit帶給我們

00:01:31.859 --> 00:01:34.695 
可靠性和穩定性

00:01:35.362 --> 00:01:39.867 
所以今年我們會再加入幾個新特性

00:01:40.467 --> 00:01:44.204 
IOS和OS X上的備忘錄
正在使用CloudKit

00:01:44.271 --> 00:01:47.708 
在你的設備之間實現備忘錄同步

00:01:48.942 --> 00:01:51.411 
我們昨天介紹的新app-新聞

00:01:51.645 --> 00:01:55.148 
也是完全構建在
CloudKit公用數據庫基礎上的

00:01:56.283 --> 00:01:59.520 
今年就連WWDC app
也在使用CloudKit

00:02:00.020 --> 00:02:02.289 
最後一個要點
iOS 9上提供對iCloud備份

00:02:03.023 --> 00:02:06.393 
端口支持以便使用CloudKit

00:02:07.227 --> 00:02:09.562 
所以這其實有更大的意義

00:02:09.630 --> 00:02:12.466 
因爲就用戶數量 數據量

00:02:12.799 --> 00:02:14.501 
和每秒的請求數量而言

00:02:14.701 --> 00:02:17.471 
iCloud備份是我們最大的服務

00:02:19.907 --> 00:02:22.776 
我們也從你們開發者那裏
得到了一些好的反饋

00:02:23.310 --> 00:02:26.747 
比如 Hipstamatic說
利用CloudKit我們得以專注於

00:02:26.813 --> 00:02:28.148 
構建自己的app

00:02:28.215 --> 00:02:30.050 
甚至還有些遊刃有餘

00:02:30.651 --> 00:02:33.187 
這正是構建CloudKit的原因

00:02:33.887 --> 00:02:37.457 
爲了使你們這些開發者
能夠專心構建優秀的app

00:02:37.524 --> 00:02:39.593 
構建美好的用戶體驗不用去設置服務器

00:02:39.860 --> 00:02:43.330 
不用去運營服務器

00:02:43.664 --> 00:02:46.733 
不用7乘24小時隨時待命

00:02:48.268 --> 00:02:52.239 
AgileBits正在使用
CloudKit 同步密碼數據

00:02:52.306 --> 00:02:53.340 
他們對此非常滿意

00:02:53.407 --> 00:02:56.677 
他們這樣說
CloudKit非常快速且高效

00:02:57.144 --> 00:02:59.780 
它使錯誤檢測和排除變得簡單易行

00:03:00.480 --> 00:03:05.586 
是CloudKit的設計目標之一

00:03:06.119 --> 00:03:09.223 
如果後臺程序 
網絡或服務器端存在錯誤

00:03:09.289 --> 00:03:12.359 
我們會把該錯誤發回你的app

00:03:12.759 --> 00:03:15.729 
讓你的app負責處理 重試

00:03:15.796 --> 00:03:17.464 
如果那麼做是有意義的話

00:03:19.333 --> 00:03:24.137 
讚譽來自於IconFactory
“CloudKit最大的優點之一是

00:03:24.204 --> 00:03:27.040 
沒有複雜的登陸程序或設置程序”

00:03:27.608 --> 00:03:29.643 
這也是我們的目標之一

00:03:30.043 --> 00:03:35.182 
讓天衣無縫的用戶體驗成爲可能

00:03:35.249 --> 00:03:36.650 
無需創建賬戶

00:03:36.717 --> 00:03:38.919 
無需錄入密碼或記住密碼

00:03:40.954 --> 00:03:42.422 
除了這些良好的反饋之外

00:03:42.489 --> 00:03:45.092 
我們還聽到了你們開發者提出一些問題

00:03:45.659 --> 00:03:47.261 
去年我們介紹CloudKit時

00:03:47.327 --> 00:03:49.096 
我們說它沒有限制

00:03:49.863 --> 00:03:52.666 
所以我們收到了一些問題
比如 這是什麼意思？

00:03:52.733 --> 00:03:55.435 
如果我的app達到限額怎麼辦？

00:03:55.802 --> 00:03:57.504 
我要付給蘋果公司多少錢？

00:04:00.541 --> 00:04:03.110 
去年我們立刻收到的第二個問題
大意是這樣的:

00:04:03.277 --> 00:04:04.811 
好的 但是網絡呢？

00:04:05.078 --> 00:04:09.116 
如果我有一個網絡app
我想讓它能夠訪問

00:04:09.183 --> 00:04:13.086 
IOS和OS X CloudKit
app所訪問的相同的數據怎麼辦

00:04:13.887 --> 00:04:15.355 
關於這兩個問題的討論

00:04:15.422 --> 00:04:17.156 
我要把它交給Eric

00:04:17.524 --> 00:04:19.660 
Eric是
iCloud服務器端團隊的經理

00:04:26.733 --> 00:04:27.935 
謝謝 謝謝 Olivier

00:04:28.001 --> 00:04:30.470 
很高興能在今天下午來到這裏

00:04:30.537 --> 00:04:32.372 
和你們討論CloudKit的新特性

00:04:32.940 --> 00:04:34.708 
首先我們來回答第一個問題

00:04:34.775 --> 00:04:35.876 
要花多少錢？

00:04:36.343 --> 00:04:38.645 
來看CloudKit的使用和價格

00:04:38.812 --> 00:04:40.080 
在此之前 我們需要理解

00:04:40.147 --> 00:04:42.349 
CloudKit的架構

00:04:43.417 --> 00:04:46.486 
當你使用CloudKit時
你所有的數據都存儲在

00:04:46.553 --> 00:04:47.921 
你的CloudKit容器中

00:04:48.255 --> 00:04:50.257 
這個地方存儲着你所有的數據

00:04:50.524 --> 00:04:52.593 
你能夠以兩種不同的方式存儲這些數據

00:04:53.126 --> 00:04:58.232 
一種是作爲私人數據庫
另一種是作爲公用數據庫

00:04:59.032 --> 00:05:02.035 
私人數據庫是用戶的私人數據

00:05:02.970 --> 00:05:05.239 
比如iCloud照片庫

00:05:05.405 --> 00:05:08.575 
你拍的
所有照片都存在CloudKit中

00:05:09.009 --> 00:05:11.345 
用戶本人可以對其進行訪問和管理

00:05:11.478 --> 00:05:13.480 
由於這是用戶的私人數據

00:05:13.614 --> 00:05:17.217 
它佔用是用戶的存儲限額 不是開發者

00:05:18.151 --> 00:05:19.953 
現在我們來看公用數據庫

00:05:20.387 --> 00:05:22.155 
這是應用的公用數據

00:05:22.689 --> 00:05:25.325 
關於這個的最佳案例是我們昨天剛發佈

00:05:25.492 --> 00:05:27.160 
新的新聞app

00:05:27.594 --> 00:05:30.464 
其中所有的新聞文章
是通過CloudKit公用數據庫

00:05:30.531 --> 00:05:33.700 
分佈在所有的新聞應用之中

00:05:34.301 --> 00:05:36.503 
由於它是應用的公用數據

00:05:36.770 --> 00:05:39.506 
它佔用的是開發者的存儲限額

00:05:39.840 --> 00:05:42.910 
所以當我們討論價格和使用時

00:05:42.976 --> 00:05:45.979 
我們其實是在討論公用數據庫的使用

00:05:46.780 --> 00:05:47.915 
我們來看看這是什麼意思

00:05:50.050 --> 00:05:51.718 
對於我們提供的公用數據庫

00:05:52.052 --> 00:05:53.220 
我們有一定的免費限額

00:05:54.121 --> 00:05:57.424 
如果你超出了免費限額
我們還有一個收費結構

00:05:58.158 --> 00:05:59.860 
此外 我們還有使用數據

00:06:00.761 --> 00:06:02.062 
我們來看看免費限額

00:06:03.964 --> 00:06:08.635 
你把資源存在雲盤裏 追蹤到這些資源

00:06:09.236 --> 00:06:11.071 
一開始會送你10GB

00:06:11.805 --> 00:06:14.007 
所以 如果你沒有用戶 你剛開始發展

00:06:14.341 --> 00:06:15.275 
送你10G

00:06:15.709 --> 00:06:18.245 
隨着你的用戶數量增長

00:06:18.312 --> 00:06:20.514 
隨着你的應用越來越受歡迎

00:06:20.948 --> 00:06:24.184 
我們會給你增加每人額外250MB

00:06:24.251 --> 00:06:27.321 
我們會爲這些用你應用的用戶

00:06:28.355 --> 00:06:32.059 
我們可以增加到
最高可達1PB的存儲空間

00:06:34.161 --> 00:06:35.229 
同樣

00:06:35.295 --> 00:06:37.798 
對於你存儲記錄數據的數據庫

00:06:38.232 --> 00:06:42.002 
我們一開始會送你100MB
每個用戶可增加2.5MB

00:06:42.069 --> 00:06:44.137 
最高可達10TB的免費限額

00:06:45.305 --> 00:06:48.942 
除了數據存儲以外 還提供數據傳輸

00:06:49.743 --> 00:06:50.711 
上傳和下載資源時

00:06:50.777 --> 00:06:53.347 
你會消耗帶寬

00:06:54.248 --> 00:06:56.350 
我們一開始會每月送你2GB的

00:06:56.583 --> 00:06:59.253 
數據傳輸量與其他配給一樣

00:07:00.087 --> 00:07:02.789 
隨着你的用戶數量增加 會增加限額

00:07:02.856 --> 00:07:05.292 
我們每人每月會增加50MB

00:07:06.026 --> 00:07:08.996 
提供每月最高200TB的數據傳輸量

00:07:09.096 --> 00:07:11.932 
全部免費

00:07:13.333 --> 00:07:15.869 
對於數據庫 情況略有不同

00:07:16.370 --> 00:07:19.173 
我們的衡量依據是每秒的請求

00:07:19.873 --> 00:07:23.277 
我們一開始會送你每秒40個請求
這個量很大

00:07:23.810 --> 00:07:25.879 
與其他配給一樣

00:07:26.413 --> 00:07:27.781 
它會隨着用戶數量增長

00:07:27.848 --> 00:07:29.049 
每增加10萬用戶

00:07:29.116 --> 00:07:31.985 
會有每秒10個請求的增量

00:07:32.352 --> 00:07:35.255 
最高可達每秒400個免費請求

00:07:35.722 --> 00:07:38.325 
關於每秒的請求數

00:07:38.392 --> 00:07:39.893 
重要的是它其實是一種節流限制

00:07:40.360 --> 00:07:42.996 
如果因爲某種原因
你的應用達到了這些限額

00:07:43.230 --> 00:07:46.099 
我們會向你發送客戶端節流錯誤

00:07:46.166 --> 00:07:47.935 
告訴你 你已達到了限額

00:07:49.269 --> 00:07:50.637 
隨後我們再來討論一下

00:07:50.704 --> 00:07:52.206 
如何確保這種情況不會再次發生

00:07:54.408 --> 00:07:56.810 
好的 如果你真的超過了這些限額

00:07:56.877 --> 00:07:58.278 
可以付費獲取更多用量

00:07:58.545 --> 00:08:00.214 
也就是我們的公用數據庫費用

00:08:01.281 --> 00:08:03.350 
現在的情況是已超出了
我們送你的免費限額

00:08:03.417 --> 00:08:07.721 
所以這個增量範圍是在
你得到的免費限額和你的用量之間

00:08:08.455 --> 00:08:11.758 
資源是每月0.03美元/GB

00:08:12.226 --> 00:08:14.127 
數據庫是每月3.00美元/GB

00:08:14.862 --> 00:08:16.196 
在數據傳輸方面

00:08:16.263 --> 00:08:18.565 
傳輸資源是0.10美元/GB

00:08:19.132 --> 00:08:20.901 
對於數據庫的請求價格

00:08:21.235 --> 00:08:24.037 
100美元可額外增加10個請求/秒

00:08:24.271 --> 00:08:26.673 
如果你達到了免費限額

00:08:26.740 --> 00:08:29.042 
你可以根據需要增加用量

00:08:29.109 --> 00:08:30.410 
直到你的應用能夠平穩運行

00:08:33.881 --> 00:08:35.716 
當然 推送是免費的

00:08:36.049 --> 00:08:38.619 
好的 我們現在來看一個

00:08:39.186 --> 00:08:42.289 
CloudKit計算器的演示

00:08:42.389 --> 00:08:46.126 
它的訪問網址是
developer.apple.com/cloudkit

00:08:46.193 --> 00:08:47.895 
如果你還沒玩過 你可以去玩玩

00:08:48.395 --> 00:08:50.464 
我要邀請
Ramiro Calvo來幫我操作

00:08:50.531 --> 00:08:52.699 
因爲顯然我無法邊操作邊講話

00:08:53.166 --> 00:08:55.736 
他將幫我們演示這個

00:08:56.570 --> 00:08:59.873 
如果你進入這個計算器 會立刻注意到

00:09:00.073 --> 00:09:04.378 
我們的活躍用戶爲零

00:09:04.678 --> 00:09:09.583 
對嗎？ 你可以看到它下面有一些數字

00:09:09.650 --> 00:09:11.885 
它們會告訴你
我們給你提供了多少免費的存儲空間

00:09:11.985 --> 00:09:13.921 
起初 它和我們剛纔說的一樣

00:09:13.987 --> 00:09:15.422 
10GB的資源存儲空間

00:09:15.489 --> 00:09:19.226 
100MB的數據庫存儲空間
每月2GB的數據傳輸量

00:09:19.393 --> 00:09:20.794 
以及每秒40個請求

00:09:21.428 --> 00:09:23.597 
現在假設我的應用開始騰飛了

00:09:23.664 --> 00:09:24.998 
我有10萬個用戶

00:09:25.399 --> 00:09:27.701 
我們把數字增加到10萬

00:09:28.168 --> 00:09:30.504 
你會發現我們又給了你更多的存儲空間

00:09:31.071 --> 00:09:33.373 
如果你看下屏幕底部

00:09:33.440 --> 00:09:35.876 
Ramiro也許你能滾動一下屏幕

00:09:35.943 --> 00:09:41.181 
你會發現花費其實是0美元

00:09:41.682 --> 00:09:43.684 
Ramiro請把屏幕向下滾動一點 
謝謝

00:09:44.751 --> 00:09:46.753 
好的 可以看到花費是0美元

00:09:47.487 --> 00:09:49.957 
現在假設我們的用戶達到了50萬人

00:09:54.094 --> 00:09:56.663 
好的 我們又一次得到了很多存儲空間

00:09:56.730 --> 00:09:58.732 
現在我們有多達125TB了

00:09:58.866 --> 00:10:02.569 
我們仍在增加限額 你的花費仍然是零

00:10:03.604 --> 00:10:04.872 
現在假設有100萬用戶

00:10:06.240 --> 00:10:08.175 
好的 現在我們有很多用戶了

00:10:08.809 --> 00:10:10.143 
我們有很多存儲空間

00:10:10.210 --> 00:10:12.579 
我們有多達250TB的數據

00:10:13.881 --> 00:10:15.983 
每秒有很多請求 它還是免費的

00:10:16.450 --> 00:10:18.018 
現在假設有400萬用戶

00:10:19.953 --> 00:10:21.989 
好的 現在是400萬用戶了

00:10:22.055 --> 00:10:23.490 
你會看到這裏將出現很大的數字

00:10:24.258 --> 00:10:27.494 
我們有多達1PT的存儲空間
10TB的數據庫存儲空間

00:10:27.895 --> 00:10:31.298 
每月200TB的數據傳輸量

00:10:31.365 --> 00:10:33.934 
這是相當多的數據

00:10:34.001 --> 00:10:36.136 
所有這些依然不需要你花費分毫

00:10:36.837 --> 00:10:39.139 
現在來回想一下價格階梯

00:10:39.740 --> 00:10:41.074 
在某種情況下 我們達到了限額

00:10:41.375 --> 00:10:42.776 
這個限額貌似就在這裏

00:10:42.910 --> 00:10:44.311 
你得到了約1PB的存儲空間

00:10:44.378 --> 00:10:46.046 
你能得到的最大限額

00:10:46.113 --> 00:10:49.650 
那麼隨着我們增加更多的用戶
一定會有一些花費

00:10:49.716 --> 00:10:51.051 
假設有500萬用戶

00:10:54.154 --> 00:10:57.024 
這裏的花費是仍是免費的

00:10:57.558 --> 00:10:59.193 
這是怎麼回事？

00:11:00.027 --> 00:11:03.931 
如果你的應用的平均用量

00:11:03.997 --> 00:11:06.466 
少於我們送你的每個用戶的用量
仍然不需要你花費分毫

00:11:06.733 --> 00:11:07.768 
因爲是平均值

00:11:07.835 --> 00:11:10.304 
這意味着有些用戶也許超出了平均用量

00:11:10.370 --> 00:11:12.673 
有些也許用得少一些 這都沒有關係

00:11:12.973 --> 00:11:14.141 
它仍然無需你花費分毫

00:11:14.541 --> 00:11:16.610 
所以我們可以一直加到一千萬人

00:11:17.010 --> 00:11:20.180 
結果顯示仍然無需你花費分毫 對吧

00:11:20.280 --> 00:11:23.717 
如果你能正確構建你的應用

00:11:23.784 --> 00:11:25.819 
保持在我們送你的免費限額之內

00:11:26.186 --> 00:11:29.489 
這就是我們的計算方式
如果你想獲取更多信息

00:11:29.556 --> 00:11:30.591 
請使用該計算器

00:11:31.024 --> 00:11:31.925 
感謝 Ramiro 

00:11:40.534 --> 00:11:43.237 
好的 下一個問題是
我如何知道我用了多少？

00:11:43.770 --> 00:11:45.572 
CloudKit
 Dashboard 

00:11:45.639 --> 00:11:46.840 
是我們顯示該信息的場所

00:11:47.074 --> 00:11:49.443 
Dashboard是一個網絡應用

00:11:49.510 --> 00:11:52.045 
網址是
developer.apple.com

00:11:52.112 --> 00:11:54.348 
你可以在這裏查看你的容器

00:11:54.448 --> 00:11:58.585 
管理你的記錄類型

00:11:58.652 --> 00:12:01.255 
不管它們是正在開發中
還是已經完成了開發

00:12:01.989 --> 00:12:04.024 
我們又添加了一些新功能

00:12:04.925 --> 00:12:07.661 
如果你去看看我們添加了什麼

00:12:07.728 --> 00:12:10.364 
你會發現有個稱爲用法的新部分

00:12:10.964 --> 00:12:12.533 
你可以去那裏看看

00:12:12.599 --> 00:12:15.035 
你的應用容器性能如何

00:12:16.770 --> 00:12:18.005 
如果我們點進去

00:12:18.238 --> 00:12:20.107 
我們會有幾種不同的方法
來查看這些數據

00:12:20.174 --> 00:12:23.310 
我們可以按天瀏覽或按月瀏覽

00:12:25.846 --> 00:12:28.315 
如果你是按天查看信息

00:12:28.382 --> 00:12:30.584 
該圖表的最上面是用戶數量

00:12:30.651 --> 00:12:32.085 
這非常重要

00:12:32.286 --> 00:12:36.123 
因爲我們正是根據你的用戶數量
來計算送你多少免費資源

00:12:36.190 --> 00:12:37.524 
所以你應該先看一下這個

00:12:38.392 --> 00:12:40.327 
現在你還會注意到

00:12:40.627 --> 00:12:41.995 
右邊有一些虛線

00:12:42.062 --> 00:12:44.932 
因爲我們給你的是兩個月的數據

00:12:44.998 --> 00:12:47.100 
上個月和當月

00:12:47.167 --> 00:12:48.769 
當月取決於你的所在月份

00:12:48.836 --> 00:12:50.370 
其中有一些是預測

00:12:50.671 --> 00:12:52.706 
我們會根據您的容器之前的活動

00:12:52.773 --> 00:12:55.142 
爲你作出預測

00:12:56.476 --> 00:12:58.545 
下面是另一幅圖表

00:12:58.612 --> 00:13:00.814 
它顯示的是每秒的請求

00:13:00.881 --> 00:13:03.617 
每天我們會向你展示我們所看到的

00:13:03.684 --> 00:13:05.118 
某一天的每秒請求峯值是什麼

00:13:06.386 --> 00:13:09.823 
你還可以選擇按月 如果你選擇按月

00:13:09.957 --> 00:13:12.693 
你會看到12個月每個月份的

00:13:12.960 --> 00:13:14.494 
應用活動情況

00:13:15.095 --> 00:13:17.164 
而當月是典型的

00:13:17.231 --> 00:13:19.933 
用虛線表示的預測

00:13:20.000 --> 00:13:22.603 
基本上就是我們對當月的預期

00:13:23.504 --> 00:13:25.839 
現在我們往下滾屏來看看其他幾幅圖表

00:13:27.040 --> 00:13:29.576 
這是數據庫存儲和資源存儲

00:13:30.277 --> 00:13:31.879 
你會發現這裏有些不同

00:13:31.945 --> 00:13:33.013 
你會看到兩條線

00:13:33.146 --> 00:13:35.649 
上面是一條紅線 下面是一條黃線

00:13:36.083 --> 00:13:40.787 
紅線代表我們送給你的免費的存儲量

00:13:41.455 --> 00:13:44.391 
黃線代表你的實際用量是多少

00:13:45.058 --> 00:13:47.194 
所以現在你們大家要玩的遊戲是

00:13:47.261 --> 00:13:49.930 
如何讓黃線保持在紅線以下 對嗎

00:13:50.564 --> 00:13:53.166 
你要查看該信息的確切方法是

00:13:53.333 --> 00:13:56.503 
點擊右側這裏的限額箱

00:13:56.570 --> 00:13:58.805 
它默認是關閉的

00:13:58.872 --> 00:14:00.107 
如果你願意可以把它打開

00:14:00.607 --> 00:14:04.144 
之所以默認爲關閉是因爲
我們送給你那麼多免費的存儲空間

00:14:04.211 --> 00:14:05.913 
如果你點開它比例尺會發生變化

00:14:05.979 --> 00:14:08.715 
與我們送給你的免費存儲量相比

00:14:08.782 --> 00:14:10.350 
你的用量基本上會看似一條直線

00:14:11.118 --> 00:14:12.553 
所以請別客氣 去試試看吧

00:14:13.754 --> 00:14:16.256 
CloudKit 
Dashboard可提供兩樣東西

00:14:16.723 --> 00:14:19.993 
跟蹤使用數據是一個新領域

00:14:20.127 --> 00:14:21.795 
也會送你們免費限額

00:14:22.696 --> 00:14:27.434 
如今可用的測試版已公佈在
developer.apple.com

00:14:27.501 --> 00:14:28.702 
如果你已有容器

00:14:28.769 --> 00:14:31.538 
今天你就可用去那裏

00:14:32.139 --> 00:14:33.974 
看看Dashboard上的使用數據

00:14:38.345 --> 00:14:39.313 
好的

00:14:39.379 --> 00:14:41.915 
人們提出的第二個問題是
“那麼網絡呢？”

00:14:42.549 --> 00:14:44.351 
我很高興向你們介紹

00:14:44.518 --> 00:14:46.887 
最新的CloudKit網絡服務

00:14:47.421 --> 00:14:49.223 
就是這個方法 是的 好

00:14:55.329 --> 00:14:57.798 
通過它 可以對接超強的iOS	

00:14:57.865 --> 00:15:00.567 
和OS X應用
可用把它們擴展到網絡上

00:15:01.735 --> 00:15:02.903 
那麼它是如何運作的呢？

00:15:03.270 --> 00:15:04.638 
我們先來討論一下它的特性

00:15:04.705 --> 00:15:09.009 
你可以通過JSON和HTTPS
獲取完整的CloudKit API

00:15:09.810 --> 00:15:12.279 
我們也提供CloudKit JS庫

00:15:12.346 --> 00:15:13.780 
它無疑是迅速創建網絡應用的

00:15:13.847 --> 00:15:15.682 
最佳方式

00:15:16.550 --> 00:15:19.052 
我們會提供的網絡註冊
要使用Apple ID

00:15:19.119 --> 00:15:20.554 
用戶使用你的網絡app時

00:15:20.621 --> 00:15:22.022 
需要以這種方式進行驗證

00:15:24.791 --> 00:15:30.130 
那麼它是如何運作的？
如果你觀察下 會發現你的應用正在

00:15:30.264 --> 00:15:31.665 
iOS和OS X上運行

00:15:31.732 --> 00:15:34.168 
它與CloudKit框架在幕後互動

00:15:34.501 --> 00:15:36.937 
與我們的CloudKit服務器對話

00:15:38.272 --> 00:15:39.973 
我們今天爲你介紹的是

00:15:40.774 --> 00:15:43.810 
創建你自己的網絡應用的能力

00:15:43.877 --> 00:15:47.881 
在瀏覽器中運行
並討論JSON HTTPS

00:15:48.749 --> 00:15:51.652 
和我們的CloudKit網絡服務
它能讓你

00:15:51.752 --> 00:15:54.254 
相同的CloudKit服務器對話

00:15:54.621 --> 00:15:57.658 
在iOS和OS X上
進行交互的本地應用程序

00:15:58.926 --> 00:16:01.862 
關鍵是要理解JSON和HTTPS

00:16:01.929 --> 00:16:04.031 
關於這個它其實就是技術規範

00:16:04.698 --> 00:16:05.832 
沒有代碼

00:16:06.200 --> 00:16:07.935 
事實上它完全取決於開發者

00:16:08.001 --> 00:16:09.102 
對該技術規範的解讀

00:16:09.736 --> 00:16:12.539 
你得創建你自己的端點達到端點

00:16:12.840 --> 00:16:16.143 
你必須創建URL並構造JSON

00:16:16.210 --> 00:16:19.346 
後者進入實體並在請求中向上傳遞
您取回 JSON 響應

00:16:19.413 --> 00:16:22.382 
對其進行解析
處理資源的上傳與下載

00:16:22.449 --> 00:16:24.751 
重試邏輯等等等等

00:16:25.219 --> 00:16:30.290 
但這樣做更好的方法是使用
CloudKit JS架構

00:16:30.991 --> 00:16:34.828 
CloudKit JS提供了可用的
JavaScript API

00:16:35.028 --> 00:16:40.601 
使你避免了HTTPS和JSOH協議
背後的一切複雜性

00:16:41.034 --> 00:16:43.804 
你可以使用其中任何一個
但如果你去另謀出路

00:16:43.871 --> 00:16:46.173 
你很可能是瘋了
所以請使用CloudKit JS

00:16:48.242 --> 00:16:49.409 
那麼它能給你什麼呢？

00:16:49.476 --> 00:16:50.944 
好的 它能給你全面的

00:16:51.011 --> 00:16:52.446 
公用與私人數據庫的存取

00:16:53.046 --> 00:16:54.848 
它能給你所有的記錄操作

00:16:55.315 --> 00:16:57.251 
它能讓你上傳和下載資源

00:16:58.018 --> 00:16:59.820 
它能讓你進行查詢

00:17:00.420 --> 00:17:03.090 
它甚至能讓你收到訂閱和通知

00:17:03.524 --> 00:17:06.960 
這意味着我的網絡應用

00:17:07.060 --> 00:17:09.829 
能夠收到不同步的事件
就好像你收到推送

00:17:09.896 --> 00:17:12.398 
告訴你事情有變

00:17:12.532 --> 00:17:13.901 
或通知你一些其他事情

00:17:13.967 --> 00:17:16.737 
所以你無需讓用戶點擊更新按鈕

00:17:16.803 --> 00:17:17.905 
或是退出你的網絡應用

00:17:18.939 --> 00:17:20.574 
它還可以發現用戶的數據變化

00:17:21.441 --> 00:17:23.810 
它有能力解答
自定義區中的語義發生了哪些變化

00:17:23.877 --> 00:17:26.680 
這會爲您提供同步的語義

00:17:27.347 --> 00:17:31.285 
簡而言之 它給你的是全面的兼容性

00:17:31.351 --> 00:17:32.819 
以及在iOS和OS X上運行的

00:17:33.187 --> 00:17:35.923 
本地CloudKit中的一切能力

00:17:41.161 --> 00:17:44.831 
正如我之前所說
目前CloudKit JS絕對是

00:17:44.898 --> 00:17:46.133 
開發網絡應用的最佳方式

00:17:46.200 --> 00:17:48.001 
它是JavaScript API

00:17:48.302 --> 00:17:50.704 
它與
本地CloudKit API相匹配

00:17:50.771 --> 00:17:52.673 
JavaScript與
Objective-C語言相配

00:17:52.739 --> 00:17:54.641 
但你知道我們已經盡力了
它是相當接近

00:17:55.108 --> 00:17:56.510 
因爲沒有中間服務器

00:17:56.577 --> 00:17:59.313 
可創建你的JavaScript應用

00:17:59.713 --> 00:18:02.216 
你可以直接和CloudKit對話 
你知道

00:18:02.282 --> 00:18:06.453 
幕後的CloudKit網絡服務

00:18:06.520 --> 00:18:08.622 
你無需運行你自己的服務器
或任何中間服務器

00:18:09.256 --> 00:18:12.559 
現在要介紹的是
如何創建新的備忘錄網絡應用

00:18:13.026 --> 00:18:15.696 
這個前幾天曾演示過

00:18:16.330 --> 00:18:21.034 
讓Ramiro Calvo幫忙
來演示一下

00:18:21.101 --> 00:18:25.839 
向你演示基於CloudKit JS
新的備忘錄網絡應用

00:18:32.679 --> 00:18:34.948 
好的 
我們先從icloud.com開始

00:18:35.249 --> 00:18:36.483 
這是我們的跳板

00:18:36.550 --> 00:18:38.519 
這裏已經有一些網絡應用了

00:18:38.852 --> 00:18:42.022 
你會看到一些熟悉的應用
有照片和iCloud Drive

00:18:42.389 --> 00:18:43.390 
這是兩個已經存在於

00:18:43.457 --> 00:18:45.626 
CloudKit上部的應用程序

00:18:46.293 --> 00:18:51.431 
在iOS 9中 新的備忘錄應用
也是建立在CloudKit上

00:18:51.732 --> 00:18:55.903 
所以我們已在CloudKit上
創建了一個新的網絡應用

00:18:56.270 --> 00:18:59.840 
在接下來的演示中
你會看到它豐富的能力

00:19:00.674 --> 00:19:02.075 
Ramiro將會點進去

00:19:02.142 --> 00:19:03.243 
這是它的網絡app

00:19:03.544 --> 00:19:05.712 
你會在這裏看到一些主要內容

00:19:05.913 --> 00:19:06.947 
你會看到圖片

00:19:07.014 --> 00:19:08.182 
你能編輯視頻

00:19:08.482 --> 00:19:09.716 
這裏有個複選框

00:19:10.083 --> 00:19:12.186 
所以這些事情在新的備忘錄app中
都能實現

00:19:12.286 --> 00:19:14.988 
它們只是
CloudKit的資源和記錄

00:19:15.255 --> 00:19:18.825 
好的
現在我們要創建一個全新的備忘錄

00:19:19.860 --> 00:19:21.929 
因爲我們正在參加開發者大會

00:19:21.995 --> 00:19:23.397 
我們也許應該安排一下

00:19:23.463 --> 00:19:25.632 
在這裏參加開發者大會時該做些什麼

00:19:26.466 --> 00:19:28.402 
所以也許我們應該先從其中一件

00:19:28.468 --> 00:19:30.304 
較爲重要的事情開始

00:19:30.871 --> 00:19:33.106 
我們要確保我們會參加所有的會後派對

00:19:33.373 --> 00:19:34.741 
讓我們把這件事列在單子上

00:19:38.178 --> 00:19:40.747 
在我們參加完會後派對之後

00:19:41.248 --> 00:19:46.587 
我們真得訪問一下
developer.apple.com/cloudkit

00:19:47.054 --> 00:19:49.389 
看看所有優秀的文稿

00:19:49.489 --> 00:19:51.592 
包括這個超棒的介紹

00:19:51.658 --> 00:19:54.094 
在那裏你會找到一切

00:19:54.161 --> 00:19:56.864 
有關CloudKit的信息和文稿

00:19:56.930 --> 00:19:58.932 
以及最新的CloudKit網絡服務

00:19:59.666 --> 00:20:02.302 
瀏覽完這些文稿之後我們應該退出

00:20:02.603 --> 00:20:06.106 
去創建我們的
第一個CloudKit網絡應用

00:20:07.908 --> 00:20:11.478 
創建好之後 我們繼續下一項

00:20:11.778 --> 00:20:14.214 
盡最大努力達到免費限額

00:20:14.314 --> 00:20:15.582 
這可能要花費一段時間

00:20:15.649 --> 00:20:17.184 
所以我想我們無需覈對這一項

00:20:17.417 --> 00:20:19.887 
但我至少參加了一個派對

00:20:19.953 --> 00:20:24.458 
所以我們可先覈對這一項Ramiro

00:20:24.791 --> 00:20:26.360 
完成這個網絡體驗

00:20:26.426 --> 00:20:31.031 
現在我們去iOS操作系統

00:20:31.098 --> 00:20:33.534 
這是在iPad上運行新的備忘錄應用

00:20:33.934 --> 00:20:35.102 
我們打開它

00:20:36.970 --> 00:20:40.240 
你們會看到與我們
之前所見一樣的廚房改裝計劃

00:20:40.307 --> 00:20:43.010 
這是我們在全球開發者大會上
剛鍵入的我們要做的新事情

00:20:43.443 --> 00:20:44.678 
它會自動顯示出來

00:20:44.745 --> 00:20:46.013 
是同樣的數據 對嗎

00:20:46.079 --> 00:20:47.714 
只是我們有一個對接的網站界面

00:20:47.781 --> 00:20:50.551 
讓你把你的本地IOS界面對接上去

00:20:51.685 --> 00:20:53.720 
現在我們要在這裏做一些改動

00:20:53.787 --> 00:20:56.256 
訪問過
developer.apple.com

00:20:56.323 --> 00:21:01.261 
顯然已經用備忘錄app開發了一款
很棒的CloudKit網絡app

00:21:01.562 --> 00:21:04.064 
現在我們何不返回去

00:21:04.131 --> 00:21:06.400 
看看網絡

00:21:06.633 --> 00:21:08.468 
看看那邊發生了什麼

00:21:09.570 --> 00:21:11.438 
如果所有事情都做了

00:21:11.505 --> 00:21:12.840 
你會發現所有事情都覈對過了

00:21:13.073 --> 00:21:16.443 
這又是我之前提到過的通知體驗

00:21:17.311 --> 00:21:19.713 
出現了通知 推送通知

00:21:20.247 --> 00:21:22.115 
網絡應用將其選取

00:21:22.249 --> 00:21:24.451 
自動更新 向你顯示出變化

00:21:25.185 --> 00:21:28.155 
這就是在iOS 9
和icloud.com上

00:21:28.255 --> 00:21:29.923 
可用的最新的備忘錄網絡app

00:21:30.424 --> 00:21:31.358 
謝謝 Ramiro 

00:21:42.269 --> 00:21:45.339 
如果你的用戶
想使用該應用他們需要註冊

00:21:46.139 --> 00:21:48.275 
所以我們直接跳過去看看

00:21:48.342 --> 00:21:50.277 
你的網絡應用上所顯示的界面

00:21:50.944 --> 00:21:53.380 
首先你需要有一個

00:21:53.447 --> 00:21:55.015 
讓用戶註冊的按鈕

00:21:55.082 --> 00:21:56.149 
這就是你的用戶界面

00:21:57.217 --> 00:22:00.754 
當用戶點擊該按鈕之後
會彈出一個新的瀏覽窗口

00:22:00.821 --> 00:22:03.357 
該瀏覽窗口歸Apple所有

00:22:03.524 --> 00:22:04.691 
由Apple管理

00:22:05.225 --> 00:22:07.694 
這是因爲ID和密碼

00:22:07.761 --> 00:22:09.763 
只在Apple和該用戶之間交互

00:22:09.830 --> 00:22:11.431 
開發者永遠看不到這個

00:22:12.232 --> 00:22:14.501 
在後面的登入頁面

00:22:14.568 --> 00:22:16.103 
還會顯示其他一些東西

00:22:21.842 --> 00:22:23.410 
首先是“保持登陸狀態”

00:22:23.677 --> 00:22:25.812 
這樣用戶可以選擇勾選

00:22:25.879 --> 00:22:27.080 
在未來兩週保持登陸狀態

00:22:28.148 --> 00:22:29.816 
“忘記Apple ID或密碼？”

00:22:29.883 --> 00:22:31.752 
如果用戶忘記了他們的ID

00:22:32.052 --> 00:22:34.454 
我們將全力幫助他們

00:22:34.521 --> 00:22:36.857 
想起密碼或重置密碼

00:22:37.324 --> 00:22:41.929 
最後 你知道 如果該用戶
對Apple生態系統而言是個新用戶

00:22:41.995 --> 00:22:43.764 
他們根本沒有Apple ID

00:22:44.097 --> 00:22:46.600 
他們可當即創建一個Apple ID

00:22:46.667 --> 00:22:48.302 
他們將得到一個

00:22:48.468 --> 00:22:50.671 
可以在你的
應用中立即使用的Apple賬戶

00:22:54.007 --> 00:22:56.510 
CloudKit網絡服務提供包括

00:22:57.110 --> 00:23:01.181 
我剛講到的
僅用於iCloud網絡的賬戶

00:23:01.315 --> 00:23:03.717 
它會爲私人數據庫的使用提供
1GB的免費存儲空間

00:23:04.418 --> 00:23:07.654 
如果
同一位用戶訪問了iOS或OS X

00:23:07.721 --> 00:23:09.857 
並在那裏設置了他們的賬戶
它會立刻自動更新爲

00:23:09.923 --> 00:23:12.926 
5GB的iCloud賬戶

00:23:15.529 --> 00:23:20.734 
公用數據庫的使用
在iOS OS X和網絡上是一樣

00:23:20.801 --> 00:23:22.736 
沒有區別 所以在網絡上提出請求

00:23:22.803 --> 00:23:24.505 
和你在手機或Mac上提出請求

00:23:24.638 --> 00:23:26.540 
是一樣的

00:23:26.974 --> 00:23:27.975 
存儲也是一樣

00:23:28.041 --> 00:23:34.214 
在Dashboard上查看使用信息
存儲區部分時沒有任何差別

00:23:34.448 --> 00:23:35.415 
它都是放在一起的

00:23:37.651 --> 00:23:42.356 
我們確實需要一款
配得上iOS或OS X的應用

00:23:42.723 --> 00:23:44.525 
這些網絡服務的目的是

00:23:44.591 --> 00:23:48.395 
把超棒的iOS和OS X應用
擴展到網絡上

00:23:51.365 --> 00:23:55.869 
它的開發測試版現在可以使用了
是和iOS 9一起發佈的

00:23:58.372 --> 00:24:00.307 
這就是
CloudKit網絡服務的內容

00:24:00.440 --> 00:24:03.110 
現在我要把Olivier請回來

00:24:03.277 --> 00:24:05.412 
結束這次講座 非常感謝

00:24:11.952 --> 00:24:13.220 
謝謝 Eric

00:24:13.987 --> 00:24:14.988 
這就是今天的內容

00:24:15.055 --> 00:24:18.692 
我們非常期待看到
你們在CloudKit上

00:24:18.759 --> 00:24:21.128 
創建出某種應用

00:24:21.195 --> 00:24:22.396 
迸發出某種驚人的想法

00:24:23.897 --> 00:24:26.967 
正如Eric所說
我們有了一個新的網頁：

00:24:27.034 --> 00:24:29.403 
developer.Apple.com/cloudkit

00:24:29.469 --> 00:24:33.207 
它彙集了我們擁有的所有數據
以及在 CloudKit 方面的

00:24:33.273 --> 00:24:36.710 
包括在新的服務器 網絡API
以及在客戶端框架方面的

00:24:36.777 --> 00:24:41.014 
所有文稿 參考庫以及示例代碼

00:24:41.582 --> 00:24:44.484 
除了常規的技術支持

00:24:44.551 --> 00:24:46.954 
論壇和網址以外

00:24:47.554 --> 00:24:50.724 
如果所有這些都不可用 你可以電郵

00:24:50.791 --> 00:24:53.360 
cloudkit@apple.com
進行一般諮詢

00:24:54.561 --> 00:24:57.831 
本週我們還有兩節講座

00:24:57.898 --> 00:25:01.001 
第一節在明天 我們將深入探討

00:25:01.068 --> 00:25:04.438 
CloudKit JS
和網絡服務 API

00:25:06.440 --> 00:25:10.844 
另一節講座在週四下午4:30分
有關CloudKit技巧與竅門講座

00:25:11.311 --> 00:25:14.648 
在該講座中我們將演示最佳實踐

00:25:14.715 --> 00:25:18.085 
介紹一些注意事項

00:25:19.486 --> 00:25:22.389 
以及我們在iOS 9
和OS X El Capitan中

00:25:22.456 --> 00:25:25.459 
對客戶端框架做出的一些改善

00:25:27.294 --> 00:25:30.998 
本週我們還有一些實驗室活動

00:25:31.365 --> 00:25:33.700 
在週三 週四 週五上午9:00

00:25:33.767 --> 00:25:36.370 
我們會請來客戶端工程師
我們會請來服務器端工程師

00:25:36.803 --> 00:25:40.908 
我保證其中有些人
甚至在早上9:00點還沒睡

00:25:40.974 --> 00:25:43.744 
請帶着你的問題和想法前來

00:25:43.810 --> 00:25:46.713 
我們樂於更多地討論數據

00:25:46.780 --> 00:25:49.483 
討論你們頭腦中的應用類型

00:25:49.550 --> 00:25:51.752 
無論用公用數據庫還是私人數據庫

00:25:52.986 --> 00:25:54.021 
非常感謝

00:25:54.087 --> 00:25:55.689 
感謝你們的關注